<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Valentine ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
margin:0;
padding:0;
background:black;
color:white;
font-family:Georgia,serif;
overflow:hidden;
text-align:center;
}

.container{
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
height:100vh;
padding:30px;
}

button{
padding:10px 20px;
margin:10px;
font-size:18px;
border-radius:30px;
border:none;
background:crimson;
color:white;
cursor:pointer;
transition:0.3s;
}

button:hover{
transform:scale(1.05);
}

button:disabled{
opacity:0.4;
cursor:not-allowed;
}

textarea{
width:80%;
max-width:600px;
height:100px;
border-radius:15px;
padding:10px;
margin-top:10px;
font-size:16px;
}

/* Progress bar */
.progress-container{
width:80%;
max-width:600px;
height:20px;
background:#222;
border-radius:20px;
margin-bottom:20px;
overflow:hidden;
}

.progress-bar{
height:100%;
width:0%;
background:linear-gradient(90deg,#ff007f,#ff66cc);
box-shadow:0 0 20px #ff66cc;
transition:width 0.5s ease;
}

/* Falling animation */
.fall{
position:fixed;
top:-50px;
font-size:22px;
pointer-events:none;
animation: fall linear forwards;
}

@keyframes fall{
to{
transform:translateY(110vh) rotate(360deg);
}
}

/* Fireworks */
.firework{
position:fixed;
width:6px;
height:6px;
border-radius:50%;
animation:explode 1s ease-out forwards;
}

@keyframes explode{
0%{transform:scale(1);}
100%{transform:scale(15);opacity:0;}
}
</style>
</head>

<body>

<div class="container" id="content">
<h1 style="color:gold;">Hey Cheesecake ‚ù§Ô∏è</h1>
<input type="password" id="pass" placeholder="Enter our secret password">
<button onclick="checkPass()">Enter</button>
</div>

<script>

let step = 0;
let answers = [];

const questions = [
{q:"Do you remember the first time I saw you and lost my heart?", yesNo:true},
{q:"Do you remember the date I saw you the first time?", yesNo:true, text:true},
{q:"When was the first time we kissed and hugged?", text:true},
{q:"How did you feel after we kissed and hugged?", text:true},
{q:"Do you remember our first long drive date?", text:true},
{q:"How was our first date in Delhi and your feelings after we met?", text:true},
{q:"How was your experience of our first cab ride, the movie, songs and sunset?", text:true},
{q:"My first gift to you?", text:true},
{q:"Our favourite memory?", text:true},
{q:"Our best love moment, and anything else you want to share?", text:true}
];

function checkPass(){
if(document.getElementById("pass").value.trim()==="181915"){
startFalling();
next();
}else{
alert("Wrong password üòè");
}
}

function startFalling(){
const icons=["üåπ","üíñ","‚ùÑÔ∏è"];
setInterval(()=>{
let el=document.createElement("div");
el.className="fall";
el.innerHTML=icons[Math.floor(Math.random()*icons.length)];
el.style.left=Math.random()*100+"vw";
el.style.animationDuration=(Math.random()*5+5)+"s";
document.body.appendChild(el);
setTimeout(()=>el.remove(),10000);
},300);
}

function next(){
const content=document.getElementById("content");
content.innerHTML="";

if(step>=questions.length){
showSummary();
return;
}

let progressContainer=document.createElement("div");
progressContainer.className="progress-container";
let progressBar=document.createElement("div");
progressBar.className="progress-bar";
progressBar.style.width=((step)/questions.length)*100+"%";
progressContainer.appendChild(progressBar);
content.appendChild(progressContainer);

let qObj=questions[step];

let q=document.createElement("h2");
q.innerHTML=qObj.q;
content.appendChild(q);

if(qObj.yesNo){
let yesBtn=document.createElement("button");
yesBtn.innerHTML="Yes ‚ù§Ô∏è";
yesBtn.onclick=()=>{
answers[step]="Yes";
if(qObj.text){
showTextarea();
}else{
step++;
next();
}
};
content.appendChild(yesBtn);

let noBtn=document.createElement("button");
noBtn.innerHTML="No üíî";
noBtn.onclick=()=>{
answers[step]="No";
alert("Don't break my heart üíî");
};
content.appendChild(noBtn);
}
else{
showTextarea();
}
}

function showTextarea(){
const content=document.getElementById("content");

let textarea=document.createElement("textarea");
textarea.placeholder="Write your answer...";
content.appendChild(textarea);

let saveBtn=document.createElement("button");
saveBtn.innerHTML="Save ‚ù§Ô∏è";
saveBtn.disabled=true;
content.appendChild(saveBtn);

textarea.addEventListener("input",()=>{
saveBtn.disabled=textarea.value.trim()==="";
});

saveBtn.onclick=function(){
answers[step]=textarea.value;
step++;
next();
};
}

function showSummary(){
const content=document.getElementById("content");
content.innerHTML="<h1 style='color:gold;'>Our Beautiful Memories ‚ù§Ô∏è</h1>";

let text="";
questions.forEach((q,i)=>{
text+=q.q+"\n"+(answers[i]||"")+"\n\n";
});

let pre=document.createElement("pre");
pre.style.whiteSpace="pre-wrap";
pre.innerText=text;
content.appendChild(pre);

let pdfBtn=document.createElement("button");
pdfBtn.innerHTML="Download Our Love Story as PDF ‚ù§Ô∏è";
pdfBtn.onclick=downloadPDF;
content.appendChild(pdfBtn);

let finalBtn=document.createElement("button");
finalBtn.innerHTML="Final Surprise ‚ù§Ô∏è";
finalBtn.onclick=finalProposal;
content.appendChild(finalBtn);
}

function downloadPDF(){
const { jsPDF } = window.jspdf;
const doc = new jsPDF();
let text="";
questions.forEach((q,i)=>{
text+=q.q+"\n"+(answers[i]||"")+"\n\n";
});
doc.text(text,10,10);
doc.save("Our_Love_Story.pdf");
}

function finalProposal(){
document.getElementById("content").innerHTML=`
<h1 style="color:red;">Will you be my Valentine forever? ‚ù§Ô∏è</h1>
<button onclick="yesFinal()">Yes ‚ù§Ô∏è</button>
<button onclick="noFinal()">No üíî</button>`;
}

function yesFinal(){
document.getElementById("content").innerHTML="<h1 style='color:gold;'>You are my forever ‚ù§Ô∏è</h1>";
startFireworks();
}

function noFinal(){
alert("Don't break my heart üíî");
}

function startFireworks(){
setInterval(()=>{
let fw=document.createElement("div");
fw.className="firework";
fw.style.left=Math.random()*100+"vw";
fw.style.top=Math.random()*100+"vh";
fw.style.background=`hsl(${Math.random()*360},100%,60%)`;
document.body.appendChild(fw);
setTimeout(()=>fw.remove(),1000);
},300);
}

</script>

</body>
</html>
